{"version":3,"file":"requisition.js","names":["RequisitionsApi","endpoint","client","constructor","createRequisition","redirectUrl","institutionId","agreement","userLanguage","reference","payload","request","parameters","method","HttpMethod","POST","getRequisitions","limit","offset","params","GET","getRequisitionById","requisitionId","deleteRequisition","DELETE"],"sources":["../../../node_modules/nordigen-node/lib/api/requisition.js"],"sourcesContent":["import {HttpMethod} from \"../httpMethod.js\";\n\nexport default class RequisitionsApi {\n\n    #endpoint = \"requisitions\";\n    #client = null;\n\n    /**\n     * Agreements api class\n     * @param {Object} params\n     * @param {NordigenClient} params.client\n     */\n    constructor({client}) {\n        this.#client = client;\n    }\n\n    /**\n     * Create requisition. For creating links and retrieving accounts.\n     * @param {Object} params\n     * @param {string} params.redirectUrl application redirect url\n     * @param {string} params.institutionId institution id\n     * @param {string} [params.agreement] agreement id\n     * @param {string} [params.userLanguage] to enforce a language for all end user steps hosted\n                by Nordigen passed as a two-letter country code. Defaults to None\n     * @param {string} params.reference additional layer of unique ID defined by yo\n     * @returns Requisition object\n    */\n    createRequisition({\n        redirectUrl,\n        institutionId,\n        agreement,\n        userLanguage,\n        reference\n    }) {\n        const payload = {\n            \"redirect\": redirectUrl,\n            \"reference\": reference,\n            \"institution_id\": institutionId,\n            ...(userLanguage && {\"user_language\": userLanguage}),\n            ...(agreement && {\"agreement\": agreement})\n        };\n\n        return this.#client.request({\n            endpoint: `${this.#endpoint}/`,\n            parameters: payload,\n            method: HttpMethod.POST\n        })\n    }\n\n    /**\n     * Get all requisitions@param {Object} params\n     * @param {Object} params\n     * @param {number} [params.limit] number of results to return per page. Defaults to 100.\n     * @param {number} [params.offset] the initial index from which to return the results. Defaults to 0.\n     * @returns Requisitions object\n     */\n    getRequisitions({limit = 100, offset = 0} = {}) {\n        const params = {limit, offset};\n        return this.#client.request({\n            endpoint: `${this.#endpoint}/`,\n            method: HttpMethod.GET,\n            parameters: params,\n        })\n    }\n\n    /**\n     * Get requisition by id\n     * @param {string} requisitionId \n     * @returns Returns specific requisition\n     */\n    getRequisitionById(requisitionId) {\n        return this.#client.request({\n            endpoint: `${this.#endpoint}/${requisitionId}/`\n        })\n    }\n\n    /**\n     * Delete requisition by id\n     * @param {string} requisitionId \n     * @returns Object that consist confirmation message that requisition has been deleted\n     */\n    deleteRequisition(requisitionId) {\n        return this.#client.request({\n            endpoint: `${this.#endpoint}/${requisitionId}/`,\n            method: HttpMethod.DELETE\n        })\n    }\n\n\n}\n"],"mappings":";;;;;;;AAAA;;AAEe,MAAMA,eAAN,CAAsB;EAEjC,CAACC,QAAD,GAAY,cAAZ;EACA,CAACC,MAAD,GAAU,IAAV;EAEA;AACJ;AACA;AACA;AACA;;EACIC,WAAW,CAAC;IAACD;EAAD,CAAD,EAAW;IAClB,KAAK,CAACA,MAAN,GAAeA,MAAf;EACH;EAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;EACIE,iBAAiB,CAAC;IACdC,WADc;IAEdC,aAFc;IAGdC,SAHc;IAIdC,YAJc;IAKdC;EALc,CAAD,EAMd;IACC,MAAMC,OAAO,GAAG;MACZ,YAAYL,WADA;MAEZ,aAAaI,SAFD;MAGZ,kBAAkBH,aAHN;MAIZ,IAAIE,YAAY,IAAI;QAAC,iBAAiBA;MAAlB,CAApB,CAJY;MAKZ,IAAID,SAAS,IAAI;QAAC,aAAaA;MAAd,CAAjB;IALY,CAAhB;IAQA,OAAO,KAAK,CAACL,MAAN,CAAaS,OAAb,CAAqB;MACxBV,QAAQ,EAAG,GAAE,KAAK,CAACA,QAAS,GADJ;MAExBW,UAAU,EAAEF,OAFY;MAGxBG,MAAM,EAAEC,sBAAA,CAAWC;IAHK,CAArB,CAAP;EAKH;EAED;AACJ;AACA;AACA;AACA;AACA;AACA;;;EACIC,eAAe,CAAC;IAACC,KAAK,GAAG,GAAT;IAAcC,MAAM,GAAG;EAAvB,IAA4B,EAA7B,EAAiC;IAC5C,MAAMC,MAAM,GAAG;MAACF,KAAD;MAAQC;IAAR,CAAf;IACA,OAAO,KAAK,CAAChB,MAAN,CAAaS,OAAb,CAAqB;MACxBV,QAAQ,EAAG,GAAE,KAAK,CAACA,QAAS,GADJ;MAExBY,MAAM,EAAEC,sBAAA,CAAWM,GAFK;MAGxBR,UAAU,EAAEO;IAHY,CAArB,CAAP;EAKH;EAED;AACJ;AACA;AACA;AACA;;;EACIE,kBAAkB,CAACC,aAAD,EAAgB;IAC9B,OAAO,KAAK,CAACpB,MAAN,CAAaS,OAAb,CAAqB;MACxBV,QAAQ,EAAG,GAAE,KAAK,CAACA,QAAS,IAAGqB,aAAc;IADrB,CAArB,CAAP;EAGH;EAED;AACJ;AACA;AACA;AACA;;;EACIC,iBAAiB,CAACD,aAAD,EAAgB;IAC7B,OAAO,KAAK,CAACpB,MAAN,CAAaS,OAAb,CAAqB;MACxBV,QAAQ,EAAG,GAAE,KAAK,CAACA,QAAS,IAAGqB,aAAc,GADrB;MAExBT,MAAM,EAAEC,sBAAA,CAAWU;IAFK,CAArB,CAAP;EAIH;;AApFgC"}